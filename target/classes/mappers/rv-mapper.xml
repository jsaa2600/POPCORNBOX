<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mappers.rv-mapper">
	<!--
		RVNUM
		RVID
		RVNICKNAME
		RVTITLE
		RVCONTENT
		RVPOP
		RVGOOD
		RVBAD
		RVCDATE
		RVUDATE
		RVGROUP
		RVSTEP
		RVINDENT
		RVMOVIECD
	-->

	<!-- 리뷰 작성 -->
	<insert id="write" parameterType="com.popcornbox.myapp.rv.dto.RvDTO">
		INSERT INTO Review(rvnum, rvid, rvnickname, rvtitle, rvcontent, rvpop, rvcdate, rvgroup, rvmoviecd)
			VALUES(review_seq.NEXTVAL, #{rvid}, #{rvnickname}, #{rvtitle}, #{rvcontent}, #{rvpop}, SYSDATE, review_seq.CURRVAL, #{rvmoviecd})
	</insert>
	
	<!-- 리뷰 수정 -->
	<update id="modify" parameterType="com.popcornbox.myapp.rv.dto.RvDTO">
		UPDATE Review
			SET rvtitle=#{rvtitle}, rvcontent=#{rvcontent}, rvpop=#{rvpop}, rvudate=SYSDATE
			WHERE rvnum=#{rvnum}
	</update>
	
	<!-- 리뷰 삭제 -->
	<delete id="delete" parameterType="String">
		DELETE FROM Review
			WHERE rvnum=#{rvnum}
	</delete>
	
	<!-- 리뷰 좋아요 싫어요 -->
	<update id="goodOrBad" parameterType="String">
		
	</update>
	
	<!-- 리뷰 목록 (전체) -->
	<select id="listAll" resultType="com.popcornbox.myapp.rv.dto.RvDTO">
	
	</select>
	
	<!-- 리뷰 목록 (특정 영화) -->
	<select id="listByMovieCd" parameterType="java.util.Map" resultType="com.popcornbox.myapp.rv.dto.RvDTO">
	
	</select>
	
	<!-- 리뷰 총계 -->
	<select id="rvTotalRec" resultType="Integer">
	
	</select>

</mapper>